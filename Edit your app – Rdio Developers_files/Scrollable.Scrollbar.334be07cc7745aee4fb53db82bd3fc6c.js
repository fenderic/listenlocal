Bujagali.fxns["client/Components/Scrollable/Scrollbar/Scrollbar.bg.html"]=function(){return function(ctx,args){var self=this;var done=function(post){var markup=self.markup;if(args&&args._blockProviders){args._blockProviders=null}self.done(post);ctx=null;args=null;self=null;done=function(){};return markup};function emit(more){Array.prototype.splice.apply(self.markup,[self.markup.length,more.length].concat(more))}emit(['<div class="puck"></div>\n']);return done()}}();R.StyleManager.loadComponentCss("Scrollable.Scrollbar",'.Scrollable_Scrollbar{z-index:98;position:absolute;bottom:0px;right:0px;}.Scrollable_Scrollbar:hover .puck{transition:opacity 0 linear 0s;-webkit-transition:opacity 0 linear 0s;-moz-transition:opacity 0 linear 0s;-o-transition:opacity 0 linear 0s;opacity:0.6;-ms-filter:"progid:DXImageTransform.Microsoft.Alpha(Opacity=60)";}.Scrollable_Scrollbar.vertical{top:0px;width:10px;}.Scrollable_Scrollbar.vertical .puck{top:0px;right:2px;width:6px;min-height:10px;}.Scrollable_Scrollbar.horizontal{left:0px;height:10px;}.Scrollable_Scrollbar.horizontal .puck{left:0px;bottom:2px;height:6px;min-width:10px;}.Scrollable_Scrollbar.light .puck{background:white;}.Scrollable_Scrollbar .puck{position:absolute;background:#68757e;border-radius:6px;-webkit-border-radius:6px;-moz-border-radius:6px;-moz-background-clip:padding;-webkit-background-clip:padding-box;background-clip:padding-box;transition:opacity 0.2s linear 0s;-webkit-transition:opacity 0.2s linear 0s;-moz-transition:opacity 0.2s linear 0s;-o-transition:opacity 0.2s linear 0s;opacity:0;-ms-filter:"progid:DXImageTransform.Microsoft.Alpha(Opacity=0)";}.Scrollable_Scrollbar .puck.visible{opacity:0.6;-ms-filter:"progid:DXImageTransform.Microsoft.Alpha(Opacity=60)";}.robot .Scrollable_Scrollbar .puck{display:none !important;}.allowMask>.Scrollable_Scrollbar.vertical{top:86px;bottom:20px;}.allowMask>.Scrollable_Scrollbar.horizontal{bottom:0;}.App_Rdio .app_main.notification .allowMask>.Scrollable_Scrollbar{top:121px;}.App_Rdio.onboarding .Scrollable_Scrollbar{z-index:96;}.desktop.new_desktop_header .allowMask>.Scrollable_Scrollbar.vertical{top:55px;}.desktop.new_desktop_header .App_Rdio .app_main.notification .allowMask>.Scrollable_Scrollbar{top:90px;}');!function($){R.Component.create("Scrollable.Scrollbar",{events:{"mousedown .puck":"startDrag",click:"onClicked"},options:{orientation:"vertical"},initialize:function(){R.Component.prototype.initialize.apply(this,arguments);_.bindAll(this,"startDrag","drag","endDrag");this.hidePuck=_.debounce(this.hidePuck,600);if(this.options.orientation==="vertical"){_.extend(this,{scrollAttr:"scrollTop",scrollSizeAttr:"scrollHeight",offsetAttr:"top",sizeAttr:"height",eventAttr:"pageY"})}else if(this.options.orientation==="horizontal"){_.extend(this,{scrollAttr:"scrollLeft",scrollSizeAttr:"scrollWidth",offsetAttr:"left",sizeAttr:"width",eventAttr:"pageX"})}if(this.options.style){this.$el.addClass(this.options.style)}this.$el.addClass(this.options.orientation);this.doSizeCalculations=_.throttle(this.callback(this.doSizeCalculations),100)},onDestroyed:function(){this.$puck=null},onRendered:function(){this.$puck=this.$(".puck")},startDrag:function(e){this._dragOffset=e[this.eventAttr]-this.$puck.offset()[this.offsetAttr];$(document).on("mousemove",this.drag);$(document).on("mouseup",this.endDrag);R.Utils.stopEvent(e)},drag:function(e){var coord=e[this.eventAttr]-this._dragOffset-this.$el.offset()[this.offsetAttr];var percent=coord/this.$el[this.sizeAttr]();this.trigger(this.scrollAttr,percent*this.contentSize,this);R.Utils.stopEvent(e)},endDrag:function(e){$(document).off("mousemove",this.drag);$(document).off("mouseup",this.endDrag);R.Utils.stopEvent(e)},onClicked:function(e){var puckOffset=this.$puck.offset()[this.offsetAttr];var eventCoord=e[this.eventAttr];var pageSize=this.$el[this.sizeAttr]();if(eventCoord<puckOffset){this.trigger(this.scrollAttr,this.scrollPos-pageSize)}else if(eventCoord>puckOffset+this.$puck[this.sizeAttr]()){this.trigger(this.scrollAttr,this.scrollPos+pageSize)}},doSizeCalculations:function(scroller){this.contentSize=scroller[this.scrollSizeAttr]();this.actualBarSize=this.$el[this.sizeAttr]()},resize:function(scroller){var self=this;_.defer(function(){if(self.isDestroyed()||!self.$puck){return}self.doSizeCalculations(scroller);self.scrollPos=scroller[self.scrollAttr]();var ratio=self.actualBarSize/self.contentSize;var offset=Math.round(ratio*self.scrollPos)+2;var size=Math.max(1,Math.floor(ratio*(self.actualBarSize-2))-2);var css={};css[self.offsetAttr]=offset;css[self.sizeAttr]=size;if(self.size!==size||self.offset!==offset){self.$puck.css(css);self.offset=offset;self.size=size;if(self.actualBarSize<self.contentSize){self.$el.css("visibility","visible")}else{self.$el.css("visibility","hidden")}}})},flashPuck:function(){this.showPuck();this.hidePuck()},showPuck:function(){if(this.$puck&&!this.$puck.hasClass("visible")){this.$puck.addClass("visible")}},hidePuck:function(){if(this.$puck&&this.$puck.hasClass("visible")){this.$puck.removeClass("visible")}}})}(R.$);
//# sourceMappingURL=/media/client/orig/Components/Scrollable.Scrollbar.334be07cc7745aee4fb53db82bd3fc6c.js.map