Bujagali.fxns["client/Components/Dialog/Dialog.bg.html"]=function(){return function(ctx,args){var self=this;var done=function(post){var markup=self.markup;if(args&&args._blockProviders){args._blockProviders=null}self.done(post);ctx=null;args=null;self=null;done=function(){};return markup};function emit(more){Array.prototype.splice.apply(self.markup,[self.markup.length,more.length].concat(more))}emit(['<div class="content default_dialog">\n  <div class="header clearfix">\n    ']);if(args.showCloseX){emit(['\n      <div class="close_x_button"></div>\n    '])}emit(["\n    "]);var title=self.view.title();emit(["\n    "]);if(title){emit(['\n      <div class="title section_header">\n        ',title,"\n        "]);var block=self._getBlock(args._blockProviders,"subTitleContent");if(block){block()}else{try{eval("subTitleContent")()}catch(e){}}emit(["\n      </div>\n    "])}emit(["\n    "]);var block=self._getBlock(args._blockProviders,"headerContent");if(block){block()}else{try{eval("headerContent")()}catch(e){}}emit(['\n  </div>\n  <div class="body clearfix">\n    <div class="container clearfix">\n      ']);var block=self._getBlock(args._blockProviders,"bodyContent");if(block){block()}else{try{eval("bodyContent")()}catch(e){}}emit(['\n    </div>\n  </div>\n  <div class="footer clearfix">\n    ']);var buttonBar=self.view.buttonBar();emit(["\n    "]);if(buttonBar){emit([" "]);var __uniqueId=_.uniqueId("__bg_component");emit(['<div id="'+__uniqueId+'" />']);self.view.addChildFromTemplate(__uniqueId,buttonBar,{inStateSection:self._inStateSection});emit([" "])}emit(["\n    "]);var block=self._getBlock(args._blockProviders,"footerContent");if(block){block()}else{try{eval("footerContent")()}catch(e){}}emit(["\n  </div>\n</div>\n"]);return done()}}();R.StyleManager.loadComponentCss("Dialog",".Dialog{position:fixed;top:0;left:0;right:0;bottom:0;z-index:101;background-image:url(data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7);}.Dialog .content.default_dialog{position:relative;margin:100px auto;width:600px;background:#ffffff;border:1px solid #b8c3c9;border:1px solid rgba(0, 0, 0, 0.25);border-radius:7px;-webkit-border-radius:7px;-moz-border-radius:7px;-moz-background-clip:padding;-webkit-background-clip:padding-box;background-clip:padding-box;box-shadow:0 2px 4px 0px rgba(55, 70, 79, 0.15);-webkit-box-shadow:0 2px 4px 0px rgba(55, 70, 79, 0.15);-moz-box-shadow:0 2px 4px 0px rgba(55, 70, 79, 0.15);-o-box-shadow:0 2px 4px 0px rgba(55, 70, 79, 0.15);}.Dialog .content.default_dialog .header{padding:15px 10px 15px 15px;border-bottom:1px solid #e1e6e9;}.Dialog .content.default_dialog .header .close_x_button{position:absolute;cursor:pointer;right:15px;top:15px;}.Dialog .content.default_dialog .header .title{float:left;}.Dialog .content.default_dialog .body{padding:10px 15px;}.Dialog .content.default_dialog .footer{border-top:1px solid #b8c3c9;background:#e1e6e9;-webkit-border-top-left-radius:0;-webkit-border-top-right-radius:0;-webkit-border-bottom-right-radius:7px;-webkit-border-bottom-left-radius:7px;-moz-border-radius-topleft:0;-moz-border-radius-topright:0;-moz-border-radius-bottomright:7px;-moz-border-radius-bottomleft:7px;border-top-left-radius:0;border-top-right-radius:0;border-bottom-right-radius:7px;border-bottom-left-radius:7px;-moz-background-clip:padding;-webkit-background-clip:padding-box;background-clip:padding-box;padding:10px;}.Dialog .content.default_dialog .footer button{float:right;}.Dialog.standalone{padding:0;}.Dialog.standalone .content{border:0;-webkit-border-top-left-radius:0;-webkit-border-top-right-radius:0;-webkit-border-bottom-right-radius:0;-webkit-border-bottom-left-radius:0;-moz-border-radius-topleft:0;-moz-border-radius-topright:0;-moz-border-radius-bottomright:0;-moz-border-radius-bottomleft:0;border-top-left-radius:0;border-top-right-radius:0;border-bottom-right-radius:0;border-bottom-left-radius:0;-moz-background-clip:padding;-webkit-background-clip:padding-box;background-clip:padding-box;box-shadow:0 0 1px 1px rgba(0, 0, 0, 0);-webkit-box-shadow:0 0 1px 1px rgba(0, 0, 0, 0);-moz-box-shadow:0 0 1px 1px rgba(0, 0, 0, 0);-o-box-shadow:0 0 1px 1px rgba(0, 0, 0, 0);margin:0;width:100%;}.Dialog.standalone .footer{-webkit-border-top-left-radius:0;-webkit-border-top-right-radius:0;-webkit-border-bottom-right-radius:0;-webkit-border-bottom-left-radius:0;-moz-border-radius-topleft:0;-moz-border-radius-topright:0;-moz-border-radius-bottomright:0;-moz-border-radius-bottomleft:0;border-top-left-radius:0;border-top-right-radius:0;border-bottom-right-radius:0;border-bottom-left-radius:0;-moz-background-clip:padding;-webkit-background-clip:padding-box;background-clip:padding-box;bottom:0;position:fixed;width:100%;}.Dialog.standalone .footer .Dialog_ButtonBar{margin-right:20px;}");!function($){var DEFAULT_DIALOG_WIDTH=600;var DIALOG_PADDING=R.isMobile?0:20;R.Component.create("Dialog",{dependencies:["Dialog.ButtonBar","Scrollable"],events:{click:"onDialogClick","click .close_x_button":"close"},initialize:function(options){R.Components.Dialog.callSuper(this,"initialize");_.bindAll(this,"onResize");_.defaults(this.options,{isStandalone:false,destroyOnClose:true,closeOnNavigate:true,closeOnEscape:true,closeOnShieldClick:true,showCloseX:false});if(this.options.isStandalone){$(window).bind("resize",this.onResize)}else if(R.app){this.listen(R.app,"resize",this.onResize)}if(this.options.closeOnEscape&&R.Services&&R.shortcutManager){this.listen(R.shortcutManager,"pressed:esc",this.close)}if(this.options.closeOnNavigate&&R.router){this.listen(R.router,"contentChanged",this.close)}},width:function(){return R.Utils.value(this.options.width,this)||DEFAULT_DIALOG_WIDTH},title:function(){return R.Utils.value(this.options.title,this)},destroyOnClose:function(){return R.Utils.value(this.options.destroyOnClose,this)},buttons:function(){return R.Utils.value(this.options.buttons,this)},closeButton:function(){return R.Utils.value(this.options.closeButton,this)},buttonBar:function(){var buttons=this.buttons();if(buttons&&!(buttons instanceof Backbone.Collection)){buttons=new Backbone.Collection(R.Utils.array(buttons))}this.buttonBarComponent=new R.Components.Dialog.ButtonBar({model:buttons,closeButton:this.closeButton()});this.listen(this.buttonBarComponent,"buttonClicked",this.onButtonClicked);return this.buttonBarComponent},onDialogClick:function(e){if(this.options.closeOnShieldClick&&e.target===this.el){this.close()}},onButtonClicked:function(e,button){var cb=button.get("callback");var ctx=button.get("context")||this;if(cb){cb.call(ctx,this,button)}},onResize:function(){this._reposition()},onInserted:function(){this._reposition();var self=this;_.defer(function(){var toFocus=self.getDefaultFocusElement();if(toFocus&&toFocus.setFocus){toFocus.setFocus()}else{var fieldToFocus=$(toFocus||self.$("input[type=text],input[type=password],textarea").not("[readonly],[disabled]").first());if(fieldToFocus.length>0){fieldToFocus.focus()}}})},onRendered:function(){var self=this;if(this.options.isStandalone){this.$el.addClass("standalone")}this.$dialog=this.$("div.content:first");this.scroller=this.addChild(new R.Components.Scrollable({contentEl:this.$("div.body:first"),sizeToContent:false,sizeToParent:false}));this.scroller.render(function(){self._reposition()})},onDestroyed:function(){if(this.options.isStandalone){$(window).unbind("resize",this.onResize)}this.$el.remove()},_reposition:function(){var $content=this.$dialog;var $body=$content.find("div.body:first");var dialogBodyHeight=$body.find("div.container:first").outerHeight()+parseInt($body.css("padding-top"))+parseInt($body.css("padding-bottom"));var dialogHeaderHeight=$content.find("div.header:first").outerHeight();var dialogFooterHeight=$content.find("div.footer:first").outerHeight();var height=dialogHeaderHeight+dialogBodyHeight+dialogFooterHeight;if(!this.options.isStandalone){var box=R.app.contentBoundingBox();var offsetTop=box.top+DIALOG_PADDING;var viewportHeight=R.app.viewportHeight()-DIALOG_PADDING*2;var offset=height-viewportHeight;this.scroller.width(this.width());if(offset>0){this.scroller.height(height-dialogHeaderHeight-dialogFooterHeight-offset);$content.css({marginTop:offsetTop,width:this.width()})}else{if(this.scroller.height()<dialogBodyHeight){this.scroller.height(dialogBodyHeight)}offsetTop=(viewportHeight-height)/2;$content.css({marginTop:offsetTop,width:this.width()})}}else{this.scroller.height($(window).height()-dialogFooterHeight-dialogHeaderHeight);this.scroller.width($(window).width())}},open:function(cb){var self=this;cb=_.isFunction(cb)?cb:R.doNothing;this.opened=true;if(this.isRendered()){this.$el.show();this._reposition();this.onOpen();this.trigger("open",this);R.getEventProxy("R.Components.Dialog",function(eventProxy){eventProxy.trigger("open")});cb(this)}else{this.render(function(){$("body").append(self.el);$(self.el).show();self.onOpen();self.trigger("open",self);R.getEventProxy("R.Components.Dialog",function(eventProxy){eventProxy.trigger("open")});cb(self)})}},close:function(){if(!this.opened){return}this.opened=false;this.$el.hide();this.onClose();this.trigger("close",this);R.getEventProxy("R.Components.Dialog",function(eventProxy){eventProxy.trigger("close")});if(!this.isDestroyed()&&this.destroyOnClose()){this.destroy()}},onOpen:R.doNothing,onClose:R.doNothing,getDefaultFocusElement:R.doNothing},{open:function(dialogClass,options,k){k=k||R.doNothing;dialogClass=R.Utils.array(dialogClass);R.loader.load(dialogClass,function(){var dialogConstructor=R.Component.getObject(dialogClass[0]);var dialog=new dialogConstructor(options);dialog.open();k(dialog)})}})}(R.$);
//# sourceMappingURL=/media/client/orig/Components/Dialog.bb90465288a20f0ff4f4b349fb44045f.js.map