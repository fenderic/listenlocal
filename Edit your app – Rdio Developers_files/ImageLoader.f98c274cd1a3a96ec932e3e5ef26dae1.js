R.StyleManager.loadComponentCss("ImageLoader",".ImageLoader{visibility:hidden;opacity:0;}.ImageLoader.fade{transition:opacity 0.1s linear 0s;-webkit-transition:opacity 0.1s linear 0s;-moz-transition:opacity 0.1s linear 0s;-o-transition:opacity 0.1s linear 0s;}.ImageLoader.loaded,.ImageLoader.failed-debug{visibility:visible;opacity:1;}.ImageLoader.circle{border-radius:1000px;-webkit-border-radius:1000px;-moz-border-radius:1000px;-moz-background-clip:padding;-webkit-background-clip:padding-box;background-clip:padding-box;}");!function($){var probablyCached={};R.Component.create("ImageLoader",{tagName:"img",events:{load:"onLoaded",error:"onError"},options:{fade:true},initialize:function(){R.Component.prototype.initialize.apply(this,arguments);if(R.instrumentation){R.instrumentation.trigger("image:create",this)}if(this.attributes){this.options.width=this.options.width||this.attributes.width;this.options.height=this.options.height||this.attributes.height}if(R.isIE8&&(this.options.width=="100%"||this.options.height=="100%")){this.options.height="100%";this.options.width="100%"}this.$el.width(this.options.width);this.$el.height(this.options.height);if(R.isIE8||R.isPhantom){this.$el.addClass("loaded");this.options.fade=false}if(this.options.src&&probablyCached[this.options.src]){this.$el.addClass("loaded")}else{this.$el.attr("src",R.serverInfo.get("media_address")+"images/2/tiny.gif")}if(this.options.src){this.$el.attr("src",this.options.src)}if(this.options.fade){this.$el.addClass("fade")}},onDestroyed:function(){var src=this.options.src;probablyCached[src]=_.delay(function(){delete probablyCached[src]},5e3)},onLoaded:function(e){if(probablyCached[this.options.src]){clearTimeout(probablyCached[this.options.src])}probablyCached[this.options.src]=true;this.$el.addClass("loaded");this.trigger("load");if(R.instrumentation){R.instrumentation.trigger("image:load",this,this.options.src)}},onError:function(e){if(R.serverInfo.get("debug")){this.$el.addClass("failed-debug")}this.trigger("error");console.error('Failed loading image with URL "%s"',this.$el.attr("src"))},setSize:function(height,width){this.$el.width(width).height(height)},isLoaded:function(){return this.$el.hasClass("loaded")},src:function(src){if(arguments.length){if(src!=this.$el.attr("src")){if(!probablyCached[src]){this.$el.removeClass("loaded")}this.$el.attr("src",src)}return this}else{return this.$el.attr("src")}},hasImageUrl:function(){return this.$el.attr("src").indexOf("tiny.gif")===-1}})}(R.$);
//# sourceMappingURL=/media/client/orig/Components/ImageLoader.f98c274cd1a3a96ec932e3e5ef26dae1.js.map